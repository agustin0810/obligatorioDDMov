{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React, { useState, useEffect } from \"react\";\nimport MyText from \"../../components/MyText\";\nimport DatabaseConnection from \"../../database/database-connection\";\nimport AddButton from \"../../components/AddButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar db = DatabaseConnection.getConnection();\n\nvar HomeUser = function HomeUser(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function () {\n    db.transaction(function (tx) {\n      tx.executeSql(\"SELECT * FROM users\", [], function (tx, results) {\n        console.log(\"results\", results);\n\n        if (results.rows.length > 0) {\n          var temp = [];\n\n          for (var i = 0; i < results.rows.length; ++i) {\n            temp.push(results.rows.item(i));\n          }\n\n          setUsers(temp);\n        } else {\n          Alert.alert(\"Alerta\", \"No hay ningún usuario\", [{\n            text: \"Ok\",\n            onPress: function onPress() {\n              return navigation.navigate(\"HomeScreen\");\n            }\n          }], {\n            cancelable: false\n          });\n        }\n      });\n    });\n  }, []);\n\n  var listItemView = function listItemView(item) {\n    return _jsxs(View, {\n      style: styles.listItemView,\n      children: [_jsx(MyText, {\n        text: \"Nombre\",\n        style: styles.textL\n      }), _jsx(MyText, {\n        text: item.name,\n        style: styles.textL\n      }), _jsx(MyText, {\n        text: \"Apellido\",\n        style: styles.textL\n      }), _jsx(MyText, {\n        text: item.lastname,\n        style: styles.textL\n      }), _jsx(MyText, {\n        text: \"C.I:\",\n        style: styles.textL\n      }), _jsx(MyText, {\n        text: item.document,\n        style: styles.textL\n      }), _jsx(MyText, {\n        text: \"Auto:\",\n        style: styles.textL\n      }), _jsx(MyText, {\n        text: item.carCode,\n        style: styles.textL\n      })]\n    }, item.id);\n  };\n\n  return _jsx(View, {\n    children: _jsxs(ScrollView, {\n      children: [_jsx(AddButton, {\n        customPress: function customPress() {\n          return navigation.navigate(\"AddUser\");\n        }\n      }), _jsx(FlatList, {\n        contentContainerStyle: {\n          paddingHorizontal: 20\n        },\n        data: users,\n        keyExtractor: function keyExtractor(index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item;\n          return listItemView(item);\n        }\n      })]\n    })\n  });\n};\n\nexport default HomeUser;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  viewContainer: {\n    flex: 1,\n    backgroundColor: \"white\"\n  },\n  generalView: {\n    flex: 1\n  },\n  listView: {\n    marginTop: 20\n  },\n  listItemView: {\n    backgroundColor: \"white\",\n    margin: 5,\n    padding: 10,\n    borderRadius: 10\n  },\n  textL: {\n    padding: 5,\n    marginLeft: 10,\n    color: \"black\",\n    alignContent: \"center\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","MyText","DatabaseConnection","AddButton","db","getConnection","HomeUser","navigation","users","setUsers","transaction","tx","executeSql","results","console","log","rows","length","temp","i","push","item","Alert","alert","text","onPress","navigate","cancelable","listItemView","styles","textL","name","lastname","document","carCode","id","paddingHorizontal","index","toString","StyleSheet","create","container","flex","viewContainer","backgroundColor","generalView","listView","marginTop","margin","padding","borderRadius","marginLeft","color","alignContent","alignItems"],"sources":["C:/Users/agust/Desktop/OBLIGATORIO DD MOVILES - Leandro Miranda y Agustin Maciel/local/src/screens/User/HomeUser.js"],"sourcesContent":["import { StyleSheet, View, SafeAreaView, FlatList, Alert, ScrollView } from \"react-native\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport MyText from \"../../components/MyText\";\r\nimport DatabaseConnection from \"../../database/database-connection\";\r\nimport AddButton from '../../components/AddButton'\r\n\r\nconst db = DatabaseConnection.getConnection();\r\n\r\n\r\nconst HomeUser = ({ navigation }) => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  // Listamos todos los usuarios antes de renderizar\r\n  useEffect(() => {\r\n    db.transaction((tx) => {\r\n      tx.executeSql(`SELECT * FROM users`, [], (tx, results) => {\r\n        console.log(\"results\", results);\r\n        // validar resultado\r\n        if (results.rows.length > 0) {\r\n          var temp = [];\r\n          for (let i = 0; i < results.rows.length; ++i)\r\n            temp.push(results.rows.item(i));\r\n          setUsers(temp);\r\n        } else {\r\n          Alert.alert(\r\n            \"Alerta\",\r\n            \"No hay ningún usuario\",\r\n            [\r\n              {\r\n                text: \"Ok\",\r\n                onPress: () => navigation.navigate(\"HomeScreen\"),\r\n              },\r\n            ],\r\n            { cancelable: false }\r\n          );\r\n        }\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  const listItemView = (item) => {\r\n    return (\r\n      <View key={item.id} style={styles.listItemView}>\r\n        <MyText text=\"Nombre\" style={styles.textL}/>\r\n        <MyText text={item.name} style={styles.textL}/>\r\n\r\n        <MyText text=\"Apellido\" style={styles.textL}/>\r\n        <MyText text={item.lastname} style={styles.textL}/>\r\n\r\n        <MyText text=\"C.I:\" style={styles.textL}/>\r\n        <MyText text={item.document} style={styles.textL}/>\r\n\r\n        <MyText text=\"Auto:\" style={styles.textL}/>\r\n        <MyText text={item.carCode} style={styles.textL}/>\r\n      </View>\r\n    );\r\n  };\r\n\r\n\r\n  return (\r\n    <View>            \r\n      <ScrollView>\r\n          <AddButton customPress={() => navigation.navigate(\"AddUser\") } />\r\n          <FlatList\r\n            contentContainerStyle={{ paddingHorizontal: 20 }}\r\n            data={users}\r\n            keyExtractor={(index) => index.toString()}\r\n            renderItem={({ item }) => listItemView(item)}\r\n          />\r\n      </ScrollView>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default HomeUser\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  viewContainer: {\r\n    flex: 1,\r\n    backgroundColor: \"white\",\r\n  },\r\n  generalView: {\r\n    flex: 1,\r\n  },\r\n  listView: {\r\n    marginTop: 20,\r\n  },\r\n  listItemView: {\r\n    backgroundColor: \"white\",\r\n    margin: 5,\r\n    padding: 10,\r\n    borderRadius: 10,\r\n  },\r\n  textL: {\r\n    padding: 5,\r\n    marginLeft: 10,\r\n    color: \"black\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n  }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}