{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport MyInputText from \"../components/MyInputText\";\nimport MySingleButton from \"../components/MySingleButton\";\nimport DatabaseConnection from \"../database/database-connection\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar db = DatabaseConnection.getConnection();\n\nvar DeleteUser = function DeleteUser() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      userName = _useState2[0],\n      setUserName = _useState2[1];\n\n  var deleteUser = function deleteUser(_ref) {\n    var navigation = _ref.navigation;\n    console.log('deleteUser');\n    db.transaction(function (tx) {\n      tx.executeSql(\"DELETE FROM users WHERE user_name = ?\", [userName], function (tx, results) {\n        console.log(\"results\", results);\n\n        if (results.rowsAffected > 0) {\n          Alert.alert(\"Usuario eliminado\");\n          navigation.navigate(\"HomeScreen\");\n        } else {\n          Alert.alert(\"El usuario no existe\");\n        }\n      });\n    });\n  };\n\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(View, {\n      style: styles.viewContainer,\n      children: _jsxs(View, {\n        style: styles.generalView,\n        children: [_jsx(MyInputText, {\n          placeholder: \"Nombre de usuario\",\n          onChangeText: function onChangeText(text) {\n            return setUserName(text);\n          }\n        }), _jsx(MySingleButton, {\n          title: \"Borrar Usuario\",\n          customPress: deleteUser\n        })]\n      })\n    })\n  });\n};\n\nexport default DeleteUser;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  viewContainer: {\n    flex: 1,\n    backgroundColor: 'white'\n  },\n  generalView: {\n    flex: 1\n  },\n  inputStyle: {\n    padding: 15\n  }\n});","map":{"version":3,"sources":["/Users/sebastianbarcelona/Desktop/CTC/crud_usuarios/src/screens/DeleteUser.js"],"names":["React","useState","MyInputText","MySingleButton","DatabaseConnection","db","getConnection","DeleteUser","userName","setUserName","deleteUser","navigation","console","log","transaction","tx","executeSql","results","rowsAffected","Alert","alert","navigate","styles","container","viewContainer","generalView","text","StyleSheet","create","flex","backgroundColor","inputStyle","padding"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;;;;AAEA,OAAOC,WAAP;AACA,OAAOC,cAAP;AAEA,OAAOC,kBAAP;;;AACA,IAAMC,EAAE,GAAGD,kBAAkB,CAACE,aAAnB,EAAX;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,kBAAgCN,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOO,QAAP;AAAA,MAAiBC,WAAjB;;AAEA,MAAMC,UAAU,GAAG,SAAbA,UAAa,OAAkB;AAAA,QAAhBC,UAAgB,QAAhBA,UAAgB;AACnCC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAR,IAAAA,EAAE,CAACS,WAAH,CAAe,UAACC,EAAD,EAAQ;AACrBA,MAAAA,EAAE,CAACC,UAAH,0CAEE,CAACR,QAAD,CAFF,EAGE,UAACO,EAAD,EAAKE,OAAL,EAAiB;AACfL,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBI,OAAvB;;AAEA,YAAIA,OAAO,CAACC,YAAR,GAAuB,CAA3B,EAA8B;AAC5BC,UAAAA,KAAK,CAACC,KAAN,CAAY,mBAAZ;AACAT,UAAAA,UAAU,CAACU,QAAX,CAAoB,YAApB;AACD,SAHD,MAGO;AACLF,UAAAA,KAAK,CAACC,KAAN,CAAY,sBAAZ;AACD;AACF,OAZH;AAcD,KAfD;AAgBD,GAlBD;;AAmBA,SACE,KAAC,YAAD;AAAc,IAAA,KAAK,EAAEE,MAAM,CAACC,SAA5B;AAAA,cACE,KAAC,IAAD;AAAM,MAAA,KAAK,EAAED,MAAM,CAACE,aAApB;AAAA,gBACE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,WAApB;AAAA,mBACE,KAAC,WAAD;AACE,UAAA,WAAW,EAAC,mBADd;AAEE,UAAA,YAAY,EAAE,sBAACC,IAAD;AAAA,mBAAUjB,WAAW,CAACiB,IAAD,CAArB;AAAA;AAFhB,UADF,EAKE,KAAC,cAAD;AAAgB,UAAA,KAAK,EAAC,gBAAtB;AAAuC,UAAA,WAAW,EAAEhB;AAApD,UALF;AAAA;AADF;AADF,IADF;AAaD,CAnCD;;AAqCA,eAAeH,UAAf;AAEA,IAAMe,MAAM,GAAGK,UAAU,CAACC,MAAX,CAAkB;AAC/BL,EAAAA,SAAS,EAAE;AACTM,IAAAA,IAAI,EAAE;AADG,GADoB;AAI/BL,EAAAA,aAAa,EAAE;AACbK,IAAAA,IAAI,EAAE,CADO;AAEbC,IAAAA,eAAe,EAAE;AAFJ,GAJgB;AAQ/BL,EAAAA,WAAW,EAAE;AACXI,IAAAA,IAAI,EAAE;AADK,GARkB;AAW/BE,EAAAA,UAAU,EAAE;AACVC,IAAAA,OAAO,EAAE;AADC;AAXmB,CAAlB,CAAf","sourcesContent":["import React, {useState} from 'react'\nimport { StyleSheet, View, SafeAreaView, Alert } from 'react-native'\nimport MyInputText from '../components/MyInputText'\nimport MySingleButton from '../components/MySingleButton'\n\nimport DatabaseConnection from \"../database/database-connection\";\nconst db = DatabaseConnection.getConnection();\n\nconst DeleteUser = () => {\n  const [userName, setUserName] = useState('')\n\n  const deleteUser = ({navigation}) => {\n    console.log('deleteUser');\n    db.transaction((tx) => {\n      tx.executeSql(\n        `DELETE FROM users WHERE user_name = ?`,\n        [userName],\n        (tx, results) => {\n          console.log(\"results\", results);\n          // validar resultado\n          if (results.rowsAffected > 0) {\n            Alert.alert(\"Usuario eliminado\");\n            navigation.navigate(\"HomeScreen\");\n          } else {\n            Alert.alert(\"El usuario no existe\");\n          }\n        }\n      );\n    });\n  }\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.viewContainer}>\n        <View style={styles.generalView}>\n          <MyInputText \n            placeholder=\"Nombre de usuario\"\n            onChangeText={(text) => setUserName(text)}\n          />\n          <MySingleButton title=\"Borrar Usuario\" customPress={deleteUser}/>\n        </View>\n      </View>\n    </SafeAreaView>\n  )\n}\n\nexport default DeleteUser\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  viewContainer: {\n    flex: 1,\n    backgroundColor: 'white',\n  },\n  generalView: {\n    flex: 1,\n  },\n  inputStyle: {\n    padding: 15\n  }\n})"]},"metadata":{},"sourceType":"module"}