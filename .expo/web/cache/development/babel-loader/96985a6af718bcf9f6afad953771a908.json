{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport DatabaseConnection from \"../database/database-connection\";\nvar db = DatabaseConnection.getConnection();\nimport MyText from \"../components/MyText\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ViewAllUsers = function ViewAllUsers() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function () {\n    db.transaction(function (tx) {\n      tx.executeSql(\"SELECT * FROM users\", [], function (tx, results) {\n        console.log(\"results\", results);\n\n        if (results.rows.length > 0) {\n          setUsers(results.rows);\n        } else {\n          Alert.alert(\"No hay usuarios\");\n        }\n      });\n    });\n  }, []);\n\n  var listItemView = function listItemView(_ref) {\n    var item = _ref.item;\n    return _jsxs(View, {\n      style: styles.listItemView,\n      children: [_jsx(MyText, {\n        text: \"Nombre de Usuario\"\n      }), _jsx(MyText, {\n        text: item.userName\n      }), _jsx(MyText, {\n        text: \"Email\"\n      }), _jsx(MyText, {\n        text: item.email\n      })]\n    }, item.id);\n  };\n\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(View, {\n      children: _jsx(View, {\n        children: _jsx(FlatList, {\n          contentContainerStyle: {\n            paddingHorizontal: 20\n          },\n          data: users,\n          keyExtractor: function keyExtractor(item, index) {\n            return index.toString();\n          },\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return listItemView(item);\n          }\n        })\n      })\n    })\n  });\n};\n\nexport default ViewAllUsers;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  viewContainer: {\n    flex: 1,\n    backgroundColor: 'white'\n  },\n  generalView: {\n    flex: 1\n  },\n  listView: {\n    marginTop: 30\n  },\n  listItemView: {\n    backgroundColor: 'purple',\n    margin: 10,\n    padding: 15,\n    borderRadius: 10\n  }\n});","map":{"version":3,"sources":["/Users/sebastianbarcelona/Desktop/CTC/crud_usuarios/src/screens/ViewAllUsers.js"],"names":["React","useState","useEffect","DatabaseConnection","db","getConnection","MyText","ViewAllUsers","users","setUsers","transaction","tx","executeSql","results","console","log","rows","length","Alert","alert","listItemView","item","styles","userName","email","id","container","paddingHorizontal","index","toString","StyleSheet","create","flex","viewContainer","backgroundColor","generalView","listView","marginTop","margin","padding","borderRadius"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;;;;;AAGA,OAAOC,kBAAP;AACA,IAAMC,EAAE,GAAGD,kBAAkB,CAACE,aAAnB,EAAX;AACA,OAAOC,MAAP;;;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,kBAA0BN,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOO,KAAP;AAAA,MAAcC,QAAd;;AAGAP,EAAAA,SAAS,CAAC,YAAM;AACdE,IAAAA,EAAE,CAACM,WAAH,CAAe,UAACC,EAAD,EAAQ;AACrBA,MAAAA,EAAE,CAACC,UAAH,wBAEE,EAFF,EAGE,UAACD,EAAD,EAAKE,OAAL,EAAiB;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,OAAvB;;AAEA,YAAIA,OAAO,CAACG,IAAR,CAAaC,MAAb,GAAsB,CAA1B,EAA6B;AAC3BR,UAAAA,QAAQ,CAACI,OAAO,CAACG,IAAT,CAAR;AACD,SAFD,MAEO;AACLE,UAAAA,KAAK,CAACC,KAAN,CAAY,iBAAZ;AACD;AACF,OAXH;AAaD,KAdD;AAeD,GAhBQ,EAgBN,EAhBM,CAAT;;AAkBA,MAAMC,YAAY,GAAG,SAAfA,YAAe,OAAc;AAAA,QAAXC,IAAW,QAAXA,IAAW;AACjC,WACE,MAAC,IAAD;AAEE,MAAA,KAAK,EAAEC,MAAM,CAACF,YAFhB;AAAA,iBAIE,KAAC,MAAD;AAAQ,QAAA,IAAI,EAAC;AAAb,QAJF,EAKE,KAAC,MAAD;AAAQ,QAAA,IAAI,EAAEC,IAAI,CAACE;AAAnB,QALF,EAOE,KAAC,MAAD;AAAQ,QAAA,IAAI,EAAC;AAAb,QAPF,EAQE,KAAC,MAAD;AAAQ,QAAA,IAAI,EAAEF,IAAI,CAACG;AAAnB,QARF;AAAA,OACOH,IAAI,CAACI,EADZ,CADF;AAYD,GAbD;;AAgBA,SACE,KAAC,YAAD;AAAc,IAAA,KAAK,EAAEH,MAAM,CAACI,SAA5B;AAAA,cACI,KAAC,IAAD;AAAA,gBACE,KAAC,IAAD;AAAA,kBACE,KAAC,QAAD;AACA,UAAA,qBAAqB,EAAE;AAACC,YAAAA,iBAAiB,EAAE;AAApB,WADvB;AAEA,UAAA,IAAI,EAAEnB,KAFN;AAGA,UAAA,YAAY,EAAE,sBAACa,IAAD,EAAOO,KAAP;AAAA,mBAAiBA,KAAK,CAACC,QAAN,EAAjB;AAAA,WAHd;AAIA,UAAA,UAAU,EAAE;AAAA,gBAAER,IAAF,SAAEA,IAAF;AAAA,mBAAYD,YAAY,CAACC,IAAD,CAAxB;AAAA;AAJZ;AADF;AADF;AADJ,IADF;AAcD,CApDD;;AAsDA,eAAed,YAAf;AAEA,IAAMe,MAAM,GAAGQ,UAAU,CAACC,MAAX,CAAkB;AAC/BL,EAAAA,SAAS,EAAE;AACTM,IAAAA,IAAI,EAAE;AADG,GADoB;AAI/BC,EAAAA,aAAa,EAAE;AACbD,IAAAA,IAAI,EAAC,CADQ;AAEbE,IAAAA,eAAe,EAAE;AAFJ,GAJgB;AAQ/BC,EAAAA,WAAW,EAAE;AACXH,IAAAA,IAAI,EAAE;AADK,GARkB;AAW/BI,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAC;AADF,GAXqB;AAc/BjB,EAAAA,YAAY,EAAE;AACZc,IAAAA,eAAe,EAAE,QADL;AAEZI,IAAAA,MAAM,EAAE,EAFI;AAGZC,IAAAA,OAAO,EAAE,EAHG;AAIZC,IAAAA,YAAY,EAAE;AAJF;AAdiB,CAAlB,CAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { StyleSheet, View, SafeAreaView, FlatList, Alert } from 'react-native'\n\nimport DatabaseConnection from \"../database/database-connection\";\nconst db = DatabaseConnection.getConnection();\nimport MyText from '../components/MyText'\n\nconst ViewAllUsers = () => {\n  const [users, setUsers] = useState([]);\n\n  // ejecutar cuando la vista se cree\n  useEffect(() => {\n    db.transaction((tx) => {\n      tx.executeSql(\n        `SELECT * FROM users`,\n        [],\n        (tx, results) => {\n          console.log(\"results\", results);\n          // validar resultado\n          if (results.rows.length > 0) {\n            setUsers(results.rows);\n          } else {\n            Alert.alert(\"No hay usuarios\");\n          }\n        }\n      );\n    });\n  }, []);\n\n  const listItemView = ({ item }) => {\n    return(\n      <View\n        key={item.id}\n        style={styles.listItemView}\n      >\n        <MyText text=\"Nombre de Usuario\"/>\n        <MyText text={item.userName}/>\n\n        <MyText text=\"Email\"/>\n        <MyText text={item.email}/>\n      </View>\n    )\n  }\n\n\n  return (\n    <SafeAreaView style={styles.container}>\n        <View>\n          <View>\n            <FlatList \n            contentContainerStyle={{paddingHorizontal: 20}}\n            data={users}\n            keyExtractor={(item, index) => index.toString()}\n            renderItem={({item}) => listItemView(item)}\n            />\n          </View>\n        </View>\n    </SafeAreaView>\n  )\n}\n\nexport default ViewAllUsers\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  viewContainer: {\n    flex:1,\n    backgroundColor: 'white'\n  },\n  generalView: {\n    flex: 1,\n  },\n  listView: {\n    marginTop:30\n  },\n  listItemView: {\n    backgroundColor: 'purple',\n    margin: 10,\n    padding: 15,\n    borderRadius: 10,\n  }\n})"]},"metadata":{},"sourceType":"module"}